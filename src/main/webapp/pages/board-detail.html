<div style="background-color: #F0F0F0" ng-controller="CardCtrl">
	<div class="container-fluid">
		<div class="page-header header-welcome">
			<h4>
				<span class="glyphicon glyphicon-align-justify"></span> Bem-vindo ao
				Famban
			</h4>
		</div>
		<div class="col-lg-10">
			<div style="background-color: #2c3e50; border-radius: 10px"
				class="container-fluid">
				<br />
				<div class="row">
					<div class="col-lg-4">
						<div class="panel panel-default">
							<div class="panel-heading">
								<span class="glyphicon glyphicon glyphicon-flag"></span><strong>
									A Fazer</strong>
								<button class="btn btn-danger btn-xs pull-right"
									ng-click="open()">
									<span class="glyphicon glyphicon-plus"></span> Card
								</button>
							</div>
							<div class="panel-body panel-height panel-background" droppable
								data-panel="todo">
								<div ng-repeat="item in items">
									<div class="alert alert-dismissible alert-success"
										ng-if="item.status == 'todo'" draggable id="{{$index}}"
										data-model="20">
										<p>
											<strong>#{{item.id}} - {{item.title}}</strong>
										</p>
										<p>
											<strong>Atividade: </strong>{{item.description}}
										</p>
										<p>
											<a href="#/boards/{{board.id}}" ng-click="open(item)"
												style="color: #fff"><i
												class="glyphicon glyphicon-info-sign"></i></a> <a
												href="#/boards/{{board.id}}" ng-click="remove($index)"
												style="color: #fff"><span
												class="glyphicon glyphicon-remove-sign"></span></a>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4">
						<div class="panel panel-default">
							<div class="panel-heading">
								<span class="glyphicon glyphicon glyphicon-flag"></span><strong>
									Fazendo</strong>
							</div>
							<div class="panel-body panel-height panel-background" droppable
								data-panel="doing" drop-complete="drop(id_banco, target)">
								<div ng-repeat="item in items">
									<div class="alert alert-dismissible alert-success"
										ng-if="item.status == 'doing'" draggable id="{{$index}}"
										data-model="20">
										<p>
											<strong>#{{item.id}} - {{item.title}}</strong>
										</p>
										<p>
											<strong>Atividade: </strong>{{item.description}}
										</p>
										<p>
											<a href="#/boards/{{board.id}}" ng-click="open(item)"
												style="color: #fff"><i
												class="glyphicon glyphicon-info-sign"></i></a> <a
												href="#/boards/{{board.id}}" ng-click="remove($index)"
												style="color: #fff"><span
												class="glyphicon glyphicon-remove-sign"></span></a>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4">
						<div class="panel panel-default">
							<div class="panel-heading">
								<span class="glyphicon glyphicon glyphicon-flag"></span><strong>
									Feito</strong>
							</div>
							<div class="panel-body panel-height panel-background" droppable
								data-panel="done" drop-complete="drop(id_banco, target)">
								<div ng-repeat="item in items">
									<div class="alert alert-dismissible alert-success"
										ng-if="item.status == 'done'" draggable id="{{$index}}"
										data-model="20">
										<p>
											<strong>#{{item.id}} - {{item.title}}</strong>
										</p>
										<p>
											<strong>Atividade: </strong>{{item.description}}
										</p>
										<p>
											<a href="#/boards/{{board.id}}" ng-click="open(item)"
												style="color: #fff"><i
												class="glyphicon glyphicon-info-sign"></i></a> <a
												href="#/boards/{{board.id}}" ng-click="remove($index)"
												style="color: #fff"><span
												class="glyphicon glyphicon-remove-sign"></span></a>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-2">
			<div ng-controller="UserCtrl">
				<label>Adicionar Usuarios:</label>
				<input type="text" ng-model="userSelected"
					placeholder="Insira o login"
					uib-typeahead="user for user in getLocation($viewValue)"
					typeahead-loading="loadingLocations"
					typeahead-no-results="noResults" class="form-control"> <i
					ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
				<div ng-show="noResults">
					<i class="glyphicon glyphicon-remove"></i> Não encontrado
				</div>
				<button class="btn btn-danger btn-xs" ng-click="submit()">
					Adicionar Usuario
				</button><br/><br/>
			
			<!--Deixar dinâmico com o angular-->
				<label>Usuarios do Quadro:</label>
				<table class="table table-striped table-bordered table-condensed">
					<tbody>
						<tr ng-repeat="user in users">
							<td><span class="glyphicon glyphicon-eye-open"></span> {{user.username}}</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!--End-->
		</div>
	</div>
</div>

<script type="text/ng-template" id="myModalContent.html">
<div class="modal-header">
<h3 class="modal-title">
Novo Card 
<small><span class="label label-warning">{{card.status}}</span></small>
</h3>
</div>
<div class="modal-body">
<form name="form" class="ng-scope ng-pristine ng-valid">
<input type="hidden"/>
<div class="form-group">
<label>Nome</label>
<input name="cTitle" required ng-model="card.title" ng-disabled="card.id" type="name" class="form-control">
<div ng-messages="form.cTitle.$error" ng-show="form.cTitle.$error.required && form.cTitle.$touched">
  <p style="color: red;" ng-message="required">Este campo é obrigatório!</p>
</div>
</div>
<div class="form-group">
<label for="password">Informações</label>
<textarea name="cDescription" required ng-model="card.description" ng-disabled="card.id" class="form-control" rows="3"></textarea>
<div ng-messages="form.cDescription.$error" ng-show="form.cDescription.$error.required && form.cDescription.$touched">
  <p style="color: red;" ng-message="required">Este campo é obrigatório!</p>
</div>
</div>
</form>
</div>
<div class="modal-footer">
<div ng-if="card.id == null">
  <button class="btn btn-info" type="button" ng-click="save()" ng-disabled="form.$invalid">Salvar</button>
  <button class="btn btn-danger" type="button" ng-click="cancel()">Cancel</button>
</div>
<div ng-if="card.id != null">
  <button class="btn btn-info" type="button" ng-click="ok()">Ok</button>
</div>
</div>
</script>